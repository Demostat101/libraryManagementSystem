<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./indexa.css">
    <script src="./index.js" defer></script>
    <link rel="shortcut icon" href="./logo6.jpg" type="image/x-icon">
    <title>Login Page</title>
</head>
<body>
    <div class="container">

    <div class="nav">
        <div class="logo">
        <a href="./index.html"><img src="./logo6.jpg" id="logo3"></a>
        <p id="lib">Library</p>
       </div>
    
      
       <div class="menu">
           <button class="signIN"><a href="./signUp.html" id="sig">sign up</a></button>
           
           <button class="logIn"><a href="./index.html" id="log">home</a></button>
        </div>
    </div>

    <form action="#" class="login">
        <h2 id="log">Login</h2>
        <input type="email" placeholder="Email" id="email2" name="email2" required><br>
        <input type="password" placeholder="Password" id="pass2" name="pass2" required><br>
        <input type="checkbox" value="check" id="check"><label for="check">Remember me <a href="#">Forgot Password</a></label><br>
        <button id="btt" type="submit">LOGIN</button> <br> 
        <label id="acc">Don't have an account? <a href="./signup.html">Register</a></label>

    </form>

    <div class="footer" >
        <p id="foot">made by Techachievers &copy 2024 </p>
     </div>
    </div>

    <script defer>
        //let btt = document.getElementById('btt')
        btt.addEventListener("click",()=>{
            
            
                let user = JSON.parse(localStorage.getItem('user'));

                for(let i=0; i < user.length; i++){

                  
                    if(email2.value == user[i].mail && pass2.value == user[i].password){
                        alert('login successful')
                        window.open('./profile.html');
                        return

                    }
                else{
                             alert("invalid login details")
                        
                    console.log(user[i].mail, user[i].password);
                    console.log(user[i].mail, user[i].password);
                }
            }
            


                // let key = Object.keys(user)
                // console.log(key);

                // key.forEach((x)=>{
                //     user[x]
                // })
                
                
                // for(let i=0; i<user.length; i++){

                //     console.log(user[i]);

                    //  if(email2.value == user[i].mail && pass2.value == user[i].password){
                    //     alert('login successful')
                    //     window.open('./profile.html');

                    //  }else{
                    //          alert("invalid login details")
                    //      }
                    
                //}

                // user.forEach(x => {
                //     JSON.parse(x);
                //console.log(user);

                // dataBase.forEach(user => {
                //     alert(user.email)
                    
                // });
             
               // if(email2.value == email && pass2.value == password){
                //     alert('login successful')
                //     window.open('./profile.html');

                // }else{
                //     alert("invalid login details")
                // }
     })
    
  
          
   </script>
    
</body>
</html>